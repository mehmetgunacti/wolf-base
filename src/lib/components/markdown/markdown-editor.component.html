<div buttons cdkMenuBar>

	<!-- STYLE BUTTON -->
	<button
		class="icon-only"
		[cdkMenuTriggerFor]="format_menu"
		title="Format Options"
		cdkMenuItem>
		<span class="material-symbols-outlined">style</span>
	</button>

	<!-- DIVIDER -->
	<div class="v-divider"></div>

	<!-- ADD CHECKBOX (TASK) BUTTON -->
	<button
		class="icon-only"
		(click)="addEmptyTask()"
		title="Task"
		cdkMenuItem>
		<span class="material-symbols-outlined">check_box</span>
	</button>

	<!-- ADD TABLE BUTTON -->
	<button
		class="icon-only"
		[cdkMenuTriggerFor]="table_menu"
		title="Table"
		cdkMenuItem>
		<span class="material-symbols-outlined">table</span>
	</button>

	<!-- CODE BUTTON -->
	<button
		class="icon-only"
		[cdkMenuTriggerFor]="code_menu"
		title="Code"
		cdkMenuItem>
		<span class="material-symbols-outlined">code_blocks</span>
	</button>

	<!-- ADD BLOCKQUOTE BUTTON -->
	<button
		class="icon-only"
		[cdkMenuTriggerFor]="quote_menu"
		title="Blockquote"
		cdkMenuItem>
		<span class="material-symbols-outlined">format_quote</span>
	</button>

	<!-- IMAGE FROM CLIPBOARD BUTTON -->
	<button
		#btnImage
		class="icon-only"
		(click)="addImage(btnImage)"
		title="Image from Clipboard"
		[class.shake]="btnImageShake()"
		cdkMenuItem>
		<span class="material-symbols-outlined">image</span>
	</button>

	<!-- PREVIEW BUTTON -->
	<button
		class="icon-only"
		(click)="onPreviewOpen()"
		cdkMenuItem>
		<span class="material-symbols-outlined">live_tv</span>
		<span>Preview</span>
	</button>

</div>

<div area>

	<textarea
		#editor
		[rows]="rows"
		[cols]="cols"
		[ngClass]="{ 'ng-invalid ng-dirty': control.invalid && control.dirty }"
		[formControl]="control"
		placeholder=""
		[readonly]="readonly"
		(input)="onInput($event)"></textarea>
	<label [class.up]="hasValue$ | async">{{name}}</label>
	<label class="up right">{{ contentSizeString() }}</label>

</div>

<ng-template #previewTemplate>

	<w-overlay-container>

		<ng-container card_title>Preview</ng-container>
		<ng-container card_buttons>

			<button
				class="icon-only rounded"
				(click)="onPreviewClose()">
				<span class="material-symbols-outlined">close</span>
			</button>

		</ng-container>

		<w-markdown-viewer [markdown]="content()"/>

	</w-overlay-container>

</ng-template>

<ng-template #table_menu>

	<div class="menu" cdkMenu>

		<w-selector-table
			[rows]="6"
			[cols]="7"
			(result)="addTable($event)"/>

	</div>

</ng-template>

<ng-template #format_menu>

	<div class="menu" cdkMenu>

		<div>

			<!-- BOLD BUTTON -->
			<button
				class="icon-only"
				(click)="addBold()"
				title="Bold"
				cdkMenuItem>
				<span class="material-symbols-outlined">format_bold</span>
			</button>

			<!-- ITALIC BUTTON -->
			<button
				class="icon-only"
				(click)="addItalic()"
				title="Italic"
				cdkMenuItem>
				<span class="material-symbols-outlined">format_italic</span>
			</button>

			<!-- STRIKETHROUGH BUTTON -->
			<button
				class="icon-only"
				(click)="addStrikethrough()"
				title="Strikethrough"
				cdkMenuItem>
				<span class="material-symbols-outlined">format_strikethrough</span>
			</button>

		</div>

		<div>

			<!-- ALIGN CENTER BUTTON -->
			<button
				class="icon-only"
				(click)="addAlignCenter()"
				title="Align Center"
				cdkMenuItem>
				<span class="material-symbols-outlined">format_align_center</span>
			</button>

			<!-- ALIGN RIGHT BUTTON -->
			<button
				class="icon-only"
				(click)="addAlignRight()"
				title="Align Right"
				cdkMenuItem>
				<span class="material-symbols-outlined">format_align_right</span>
			</button>

			<!-- ALIGN JUSTIFY BUTTON -->
			<button
				class="icon-only"
				(click)="addAlignJustify()"
				title="Align Justify"
				cdkMenuItem>
				<span class="material-symbols-outlined">format_align_justify</span>
			</button>

		</div>

		<div>

			<!-- SUB BUTTON -->
			<button
				class="icon-only"
				(click)="addSub()"
				title="Subscript (H2O)"
				cdkMenuItem>
				<span class="material-symbols-outlined">subscript</span>
			</button>

			<!-- SUP BUTTON -->
			<button
				class="icon-only"
				(click)="addSup()"
				title="Superscript (E=mc2)"
				cdkMenuItem>
				<span class="material-symbols-outlined">superscript</span>
			</button>

			<!-- HIGHLIGHT BUTTON -->
			<button
				class="icon-only"
				(click)="addHighlight()"
				title="Highlight"
				cdkMenuItem>
				<span class="material-symbols-outlined">format_ink_highlighter</span>
			</button>

		</div>

	</div>

</ng-template>

<ng-template #quote_menu>

	<div class="menu quote_menu" cdkMenu>

		<button class="medium icon-only align-left" (click)="addBlockquote()" cdkMenuItem>
			<span class="default"></span>
			<span>Blockquote</span>
		</button>

		<button class="medium icon-only align-left" (click)="addBlockquote('note')" cdkMenuItem>
			<span class="primary"></span>
			<span>&quot;Note&quot;</span>
		</button>

		<button class="medium icon-only align-left" (click)="addBlockquote('tip')" cdkMenuItem>
			<span class="success"></span>
			<span>&quot;Tip&quot;</span>
		</button>

		<button class="medium icon-only align-left" (click)="addBlockquote('important')" cdkMenuItem>
			<span class="info"></span>
			<span>&quot;Important&quot;</span>
		</button>

		<button class="medium icon-only align-left" (click)="addBlockquote('warning')" cdkMenuItem>
			<span class="warn"></span>
			<span>&quot;Warning&quot;</span>
		</button>

		<button class="medium icon-only align-left" (click)="addBlockquote('caution')" cdkMenuItem>
			<span class="error"></span>
			<span>&quot;Caution&quot;</span>
		</button>

	</div>

</ng-template>

<ng-template #code_menu>

	<div class="menu scrollable code_menu" cdkMenu>

		<fieldset>
			<!-- INLINE CODE BUTTON -->
			<button class="icon-only small" (click)="addInlineCode()" cdkMenuItem>
				<span class="material-symbols-outlined small">code</span>
				<span>Inline Code</span>
			</button>
		</fieldset>

		<fieldset>
			<legend>Frequent</legend>

			<button class="icon-only small" (click)="addCodeBlock('')" cdkMenuItem>
				<span class="material-symbols-outlined small">chevron_right</span>
				<span>Empty Block</span>
			</button>
			<button class="icon-only small" (click)="addCodeBlock('java')" cdkMenuItem>
				<span class="material-symbols-outlined small">chevron_right</span>
				<span>java</span>
			</button>
			<button class="icon-only small" (click)="addCodeBlock('typescript')" cdkMenuItem>
				<span class="material-symbols-outlined small">chevron_right</span>
				<span>typescript</span>
			</button>
			<button class="icon-only small" (click)="addCodeBlock('javascript')" cdkMenuItem>
				<span class="material-symbols-outlined small">chevron_right</span>
				<span>javascript</span>
			</button>
			<button class="icon-only small" (click)="addCodeBlock('scss')" cdkMenuItem>
				<span class="material-symbols-outlined small">chevron_right</span>
				<span>scss</span>
			</button>
			<button class="icon-only small" (click)="addCodeBlock('bash')" cdkMenuItem>
				<span class="material-symbols-outlined small">chevron_right</span>
				<span>bash</span>
			</button>
			<button class="icon-only small" (click)="addCodeBlock('sql')" cdkMenuItem>
				<span class="material-symbols-outlined small">chevron_right</span>
				<span>sql</span>
			</button>
			<button class="icon-only small" (click)="addCodeBlock('xml')" cdkMenuItem>
				<span class="material-symbols-outlined small">chevron_right</span>
				<span>xml</span>
			</button>
			<button class="icon-only small" (click)="addCodeBlock('yaml')" cdkMenuItem>
				<span class="material-symbols-outlined small">chevron_right</span>
				<span>yaml</span>
			</button>

		</fieldset>

		<fieldset>
			<legend>Other</legend>

			<button class="icon-only small" (click)="addCodeBlock('asciidoc')" cdkMenuItem>
				<span class="material-symbols-outlined small">chevron_right</span>
				<span>asciidoc</span>
			</button>
			<button class="icon-only small" (click)="addCodeBlock('autohotkey')" cdkMenuItem>
				<span class="material-symbols-outlined small">chevron_right</span>
				<span>autohotkey</span>
			</button>
			<button class="icon-only small" (click)="addCodeBlock('c')" cdkMenuItem>
				<span class="material-symbols-outlined small">chevron_right</span>
				<span>c</span>
			</button>
			<button class="icon-only small" (click)="addCodeBlock('cpp')" cdkMenuItem>
				<span class="material-symbols-outlined small">chevron_right</span>
				<span>cpp</span>
			</button>
			<button class="icon-only small" (click)="addCodeBlock('css')" cdkMenuItem>
				<span class="material-symbols-outlined small">chevron_right</span>
				<span>css</span>
			</button>
			<button class="icon-only small" (click)="addCodeBlock('dockerfile')" cdkMenuItem>
				<span class="material-symbols-outlined small">chevron_right</span>
				<span>dockerfile</span>
			</button>
			<button class="icon-only small" (click)="addCodeBlock('gradle')" cdkMenuItem>
				<span class="material-symbols-outlined small">chevron_right</span>
				<span>gradle</span>
			</button>
			<button class="icon-only small" (click)="addCodeBlock('http')" cdkMenuItem>
				<span class="material-symbols-outlined small">chevron_right</span>
				<span>http</span>
			</button>
			<button class="icon-only small" (click)="addCodeBlock('ini')" cdkMenuItem>
				<span class="material-symbols-outlined small">chevron_right</span>
				<span>ini</span>
			</button>
			<button class="icon-only small" (click)="addCodeBlock('json')" cdkMenuItem>
				<span class="material-symbols-outlined small">chevron_right</span>
				<span>json</span>
			</button>
			<button class="icon-only small" (click)="addCodeBlock('kotlin')" cdkMenuItem>
				<span class="material-symbols-outlined small">chevron_right</span>
				<span>kotlin</span>
			</button>
			<button class="icon-only small" (click)="addCodeBlock('markdown')" cdkMenuItem>
				<span class="material-symbols-outlined small">chevron_right</span>
				<span>markdown</span>
			</button>
			<button class="icon-only small" (click)="addCodeBlock('powershell')" cdkMenuItem>
				<span class="material-symbols-outlined small">chevron_right</span>
				<span>powershell</span>
			</button>
			<button class="icon-only small" (click)="addCodeBlock('properties')" cdkMenuItem>
				<span class="material-symbols-outlined small">chevron_right</span>
				<span>properties</span>
			</button>
			<button class="icon-only small" (click)="addCodeBlock('python')" cdkMenuItem>
				<span class="material-symbols-outlined small">chevron_right</span>
				<span>python</span>
			</button>

		</fieldset>

	</div>

</ng-template>
