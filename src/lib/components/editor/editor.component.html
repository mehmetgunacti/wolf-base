<div buttons cdkMenuBar>

	<!-- STYLE BUTTON -->
	<button
		class="icon-only"
		[cdkMenuTriggerFor]="format_menu"
		title="Format Options"
		tabindex="0"
		cdkMenuItem>
		<span class="material-symbols-outlined">style</span>
	</button>

	<!-- DIVIDER -->
	<div class="v-divider"></div>

	<!-- ADD CHECKBOX (TASK) BUTTON -->
	<button
		class="icon-only"
		(click)="addEmptyTask()"
		title="Add Empty Task"
		tabindex="0"
		cdkMenuItem>
		<span class="material-symbols-outlined">check_box</span>
	</button>

	<!-- ADD TABLE BUTTON -->
	<button
		class="icon-only"
		[cdkMenuTriggerFor]="table_menu"
		title="Add Table"
		tabindex="0"
		cdkMenuItem>
		<span class="material-symbols-outlined">table</span>
	</button>

	<!-- IMAGE FROM CLIPBOARD BUTTON -->
	<button
		#btnImage
		class="icon-only"
		(click)="addImage(btnImage)"
		title="Image from Clipboard"
		tabindex="0"
		[class.shake]="btnImageShake()"
		cdkMenuItem>
		<span class="material-symbols-outlined">image</span>
	</button>

	<!-- INLINE CODE BUTTON -->
	<button
		class="icon-only"
		(click)="addInlineCode()"
		title="Inline Code"
		tabindex="0"
		cdkMenuItem>
		<span class="material-symbols-outlined">code</span>
	</button>

	<!-- CODE BLOCKS BUTTON -->
	<button
		class="icon-only"
		[cdkMenuTriggerFor]="code_menu"
		title="Code Block"
		tabindex="0"
		cdkMenuItem>
		<span class="material-symbols-outlined">code_blocks</span>
	</button>

	<!-- PREVIEW BUTTON -->
	<button
		class="icon-only"
		(click)="onPreviewOpen()"
		tabindex="0"
		cdkMenuItem>
		<span class="material-symbols-outlined">live_tv</span>
		<span>Preview</span>
	</button>

</div>

<div area>

	<textarea
		#editor
		[rows]="rows"
		[cols]="cols"
		[ngClass]="{ 'ng-invalid ng-dirty': control.invalid && control.dirty }"
		[formControl]="control"
		placeholder=""
		[readonly]="readonly"
		(input)="onInput($event)"></textarea>
	<label [class.up]="hasValue$ | async">{{name}}</label>
	<label class="up right">{{ contentSizeString() }}</label>

</div>

<ng-template #previewTemplate>

	<w-overlay-container [content]="content() | markdownToHtml | sanitizeHtml">

		<ng-container card-title>Preview</ng-container>
		<ng-container card-buttons>

			<button
				class="icon-only rounded"
				(click)="onPreviewClose()">
				<span class="material-symbols-outlined">close</span>
			</button>

		</ng-container>

	</w-overlay-container>

</ng-template>

<ng-template #table_menu>

	<div cdkMenu>
		<w-selector-table
			[rows]="6"
			[cols]="7"
			(result)="addTable($event)"/>
	</div>

</ng-template>

<ng-template #format_menu>

	<div class="card darker" cdkMenu>

		<div>

			<!-- BOLD BUTTON -->
			<button
				class="icon-only"
				(click)="addBold()"
				title="Bold"
				tabindex="0"
				cdkMenuItem>
				<span class="material-symbols-outlined">format_bold</span>
			</button>

			<!-- ITALIC BUTTON -->
			<button
				class="icon-only"
				(click)="addItalic()"
				title="Italic"
				tabindex="0"
				cdkMenuItem>
				<span class="material-symbols-outlined">format_italic</span>
			</button>

			<!-- STRIKETHROUGH BUTTON -->
			<button
				class="icon-only"
				(click)="addStrikethrough()"
				title="Strikethrough"
				tabindex="0"
				cdkMenuItem>
				<span class="material-symbols-outlined">format_strikethrough</span>
			</button>

		</div>

		<div>

			<!-- ALIGN CENTER BUTTON -->
			<button
				class="icon-only"
				(click)="addAlignCenter()"
				title="Align Center"
				tabindex="0"
				cdkMenuItem>
				<span class="material-symbols-outlined">format_align_center</span>
			</button>

			<!-- ALIGN RIGHT BUTTON -->
			<button
				class="icon-only"
				(click)="addAlignRight()"
				title="Align Right"
				tabindex="0"
				cdkMenuItem>
				<span class="material-symbols-outlined">format_align_right</span>
			</button>

			<!-- ALIGN JUSTIFY BUTTON -->
			<button
				class="icon-only"
				(click)="addAlignJustify()"
				title="Align Justify"
				tabindex="0"
				cdkMenuItem>
				<span class="material-symbols-outlined">format_align_justify</span>
			</button>

		</div>

		<div>

			<!-- SUB BUTTON -->
			<button
				class="icon-only"
				(click)="addSub()"
				title="Subscript (H2O)"
				tabindex="0"
				cdkMenuItem>
				<span class="material-symbols-outlined">subscript</span>
			</button>

			<!-- SUP BUTTON -->
			<button
				class="icon-only"
				(click)="addSup()"
				title="Superscript (E=mc2)"
				tabindex="0"
				cdkMenuItem>
				<span class="material-symbols-outlined">superscript</span>
			</button>

			<!-- HIGHLIGHT BUTTON -->
			<button
				class="icon-only"
				(click)="addHighlight()"
				title="Highlight"
				tabindex="0"
				cdkMenuItem>
				<span class="material-symbols-outlined">format_ink_highlighter</span>
			</button>

		</div>

	</div>

</ng-template>

<ng-template #code_menu>

	<div class="card darker code_menu" cdkMenu>

		<fieldset>
			<legend>Frequent</legend>

			<button class="icon-only small" (click)="addCodeBlock('')" tabindex="0" cdkMenuItem>
				<span class="material-symbols-outlined small">chevron_right</span>
				<span>Empty Block</span>
			</button>
			<button class="icon-only small" (click)="addCodeBlock('java')" tabindex="0" cdkMenuItem>
				<span class="material-symbols-outlined small">chevron_right</span>
				<span>java</span>
			</button>
			<button class="icon-only small" (click)="addCodeBlock('typescript')" tabindex="0" cdkMenuItem>
				<span class="material-symbols-outlined small">chevron_right</span>
				<span>typescript</span>
			</button>
			<button class="icon-only small" (click)="addCodeBlock('javascript')" tabindex="0" cdkMenuItem>
				<span class="material-symbols-outlined small">chevron_right</span>
				<span>javascript</span>
			</button>
			<button class="icon-only small" (click)="addCodeBlock('scss')" tabindex="0" cdkMenuItem>
				<span class="material-symbols-outlined small">chevron_right</span>
				<span>scss</span>
			</button>
			<button class="icon-only small" (click)="addCodeBlock('bash')" tabindex="0" cdkMenuItem>
				<span class="material-symbols-outlined small">chevron_right</span>
				<span>bash</span>
			</button>
			<button class="icon-only small" (click)="addCodeBlock('sql')" tabindex="0" cdkMenuItem>
				<span class="material-symbols-outlined small">chevron_right</span>
				<span>sql</span>
			</button>
			<button class="icon-only small" (click)="addCodeBlock('xml')" tabindex="0" cdkMenuItem>
				<span class="material-symbols-outlined small">chevron_right</span>
				<span>xml</span>
			</button>
			<button class="icon-only small" (click)="addCodeBlock('yaml')" tabindex="0" cdkMenuItem>
				<span class="material-symbols-outlined small">chevron_right</span>
				<span>yaml</span>
			</button>

		</fieldset>

		<fieldset>
			<legend>Other</legend>

			<button class="icon-only small" (click)="addCodeBlock('asciidoc')" tabindex="0" cdkMenuItem>
				<span class="material-symbols-outlined small">chevron_right</span>
				<span>asciidoc</span>
			</button>
			<button class="icon-only small" (click)="addCodeBlock('autohotkey')" tabindex="0" cdkMenuItem>
				<span class="material-symbols-outlined small">chevron_right</span>
				<span>autohotkey</span>
			</button>
			<button class="icon-only small" (click)="addCodeBlock('c')" tabindex="0" cdkMenuItem>
				<span class="material-symbols-outlined small">chevron_right</span>
				<span>c</span>
			</button>
			<button class="icon-only small" (click)="addCodeBlock('cpp')" tabindex="0" cdkMenuItem>
				<span class="material-symbols-outlined small">chevron_right</span>
				<span>cpp</span>
			</button>
			<button class="icon-only small" (click)="addCodeBlock('css')" tabindex="0" cdkMenuItem>
				<span class="material-symbols-outlined small">chevron_right</span>
				<span>css</span>
			</button>
			<button class="icon-only small" (click)="addCodeBlock('dockerfile')" tabindex="0" cdkMenuItem>
				<span class="material-symbols-outlined small">chevron_right</span>
				<span>dockerfile</span>
			</button>
			<button class="icon-only small" (click)="addCodeBlock('gradle')" tabindex="0" cdkMenuItem>
				<span class="material-symbols-outlined small">chevron_right</span>
				<span>gradle</span>
			</button>
			<button class="icon-only small" (click)="addCodeBlock('http')" tabindex="0" cdkMenuItem>
				<span class="material-symbols-outlined small">chevron_right</span>
				<span>http</span>
			</button>
			<button class="icon-only small" (click)="addCodeBlock('ini')" tabindex="0" cdkMenuItem>
				<span class="material-symbols-outlined small">chevron_right</span>
				<span>ini</span>
			</button>
			<button class="icon-only small" (click)="addCodeBlock('json')" tabindex="0" cdkMenuItem>
				<span class="material-symbols-outlined small">chevron_right</span>
				<span>json</span>
			</button>
			<button class="icon-only small" (click)="addCodeBlock('kotlin')" tabindex="0" cdkMenuItem>
				<span class="material-symbols-outlined small">chevron_right</span>
				<span>kotlin</span>
			</button>
			<button class="icon-only small" (click)="addCodeBlock('markdown')" tabindex="0" cdkMenuItem>
				<span class="material-symbols-outlined small">chevron_right</span>
				<span>markdown</span>
			</button>
			<button class="icon-only small" (click)="addCodeBlock('powershell')" tabindex="0" cdkMenuItem>
				<span class="material-symbols-outlined small">chevron_right</span>
				<span>powershell</span>
			</button>
			<button class="icon-only small" (click)="addCodeBlock('properties')" tabindex="0" cdkMenuItem>
				<span class="material-symbols-outlined small">chevron_right</span>
				<span>properties</span>
			</button>
			<button class="icon-only small" (click)="addCodeBlock('python')" tabindex="0" cdkMenuItem>
				<span class="material-symbols-outlined small">chevron_right</span>
				<span>python</span>
			</button>

		</fieldset>

	</div>

</ng-template>
