<canvas
	#canvas
	class="focus-visible:outline-hidden bg-form-element border border-form-element-border rounded-full focus-visible:ring-4 focus-visible:ring-outline cursor-move size-[110px]"
	width="110"
	height="110"
	(touchstart)="startDrag($event)"
    (touchmove)="drag($event)"
    (touchend)="endDrag()"
    (touchcancel)="endDrag()"
	(mousedown)="startDrag($event)"
	(mousemove)="drag($event)"
	(mouseup)="endDrag()"
	(mouseleave)="endDrag()"
	(keydown)="onKeyDown($event)"
	tabindex="0"
	[attr.aria-label]="'Image canvas. Use arrow keys to move the image.'">
</canvas>
<input
	#fileInput
	type="file"
	(change)="onFileSelected($event)"
	accept="image/*"
	hidden>
<input
	type="range"
	min="0.1"
	max="2"
	step="0.1"
	[value]="zoom"
	(input)="onZoomChange($event)"
	class="focus-visible:outline-hidden mt-2 focus-visible:ring-4 focus-visible:ring-outline w-32"
	[disabled]="!imageLoaded()">
@if (imageLoaded()) {

	<button class="top-2 right-2 absolute focus-visible:outline-hidden bg-warn border border-warn rounded-full focus-visible:ring-4 focus-visible:ring-outline" (click)="unloadImage()">
		<svg wGlyph="dismiss" class="fill-form-element"></svg>
	</button>

} @else {

	<div class="top-3 left-4 absolute flex flex-col items-center pt-6 rounded-full w-28 h-28 text-2xl text-secondary cursor-pointer" (mousedown)="startDrag($event)">
		<svg wGlyph="add_image"></svg>
		<span class="text-sm leading-4">Pick Image</span>
	</div>

}
