<canvas
	#canvas
	class="border-form-element-border bg-form-element border rounded-full focus-visible:ring-4 focus-visible:ring-outline cursor-move size-[110px] focus-visible:outline-none"
	width="110"
	height="110"
	(mousedown)="startDrag($event)"
	(mousemove)="drag($event)"
	(mouseup)="endDrag()"
	(mouseleave)="endDrag()"
	(keydown)="onKeyDown($event)"
	tabindex="0"
	[attr.aria-label]="'Image canvas. Use arrow keys to move the image.'">
</canvas>
<input
	#fileInput
	type="file"
	(change)="onFileSelected($event)"
	accept="image/*"
	hidden>
<input
	type="range"
	min="0.1"
	max="4"
	step="0.1"
	[value]="zoom"
	(input)="onZoomChange($event)"
	class="mt-2 focus-visible:ring-4 focus-visible:ring-outline focus-visible:outline-none"
	[disabled]="!imageLoaded()">
@if (imageLoaded()) {

	<button class="top-2 right-2 absolute border-warn bg-warn border rounded-full focus-visible:ring-4 focus-visible:ring-outline focus-visible:outline-none" (click)="unloadImage()">
		<svg wGlyph="dismiss" class="fill-form-element"></svg>
	</button>

} @else {

	<div class="top-3 left-4 absolute flex flex-col items-center pt-6 rounded-full w-28 h-28 text-secondary cursor-pointer" (mousedown)="startDrag($event)">
		<svg wGlyph="add_image" class="size-8"></svg>
		<span class="text-xs leading-4">Pick Image</span>
	</div>

}
