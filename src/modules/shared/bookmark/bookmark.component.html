@if (bookmark(); as bm) {

	@if(disabled()) {
		<div bookmark-overlay></div>
	}
	<div bookmark-image>

		<img
			id="bookmark-image"
			src="{{ bm.image || 'assets/placeholder.svg' }}"
			title="{{ bm.id }} : {{ bm.title + '\r\n' + bm.urls + '\r\n' }} #{{ bm.clicks }}">

	</div>
	<div bookmark-right>

		<div bookmark-top>

			<a [tabindex]="disabled() ? -1 : 0" href="{{ bm.urls[0] }}" target="_blank" (click)="onLinkClick()">

				<span bookmark-name>{{ bm.name }}
					<sup>
						<w-glyph name="open_in_new" class="bold" />
					</sup>
				</span>
				<span bookmark-title>{{ bm.title }}</span>

			</a>

		</div>
		@if (showDetails()) {

			<div bookmark-bottom>

				<!-- <ng-container *ngFor="let url of bm.urls">
					<div bookmark-url *ngIf="!!url">{{ url }}</div>
				</ng-container> -->

				@if (bm.tags) {
					<div bookmark-tags>

						@for (tag of bm.tags; track tag) {

							<button [disabled]="disabled()"
									class="tag xs"
									[routerLink]="['/bookmarks']"
									[queryParams]="{ 'tags': tag }">{{ tag }}</button>

						}

					</div>
				}

			</div>

		}

	</div>

	@if (popularButton()) {

		<a href="javascript:void(0)" id="popularButton" title="Toggle 'popular'" (click)="onPopular()">

			@if (bm.tags.includes('popular')) {

				<w-glyph name="heart_filled" />

			} @else {

				<w-glyph name="heart" />

			}

		</a>

	}
	@if (editable()) {

		<a href="javascript:void(0)" id="editButton" title="Edit" (click)="onEdit()">
			<w-glyph name="edit" />
		</a>

	}

}
