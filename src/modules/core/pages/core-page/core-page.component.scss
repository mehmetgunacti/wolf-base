$animation-duration				: 0.6s;
$animation-ease					: cubic-bezier(0.25, 1, 0.25, 1);
$nav-width						: 18rem;
$default-padding				: 0.5rem;
$header-height					: 4rem;

@keyframes fadeIn {
	from	{ opacity : 0; }
	to		{ opacity : 1; }
}

app-core-page {

	@extend %flex-column;
	height	: 100vh;

	header {

		display					: grid;
		grid-template-columns	: auto 1fr;
		background-color		: var(--surface-c);

		& #section-logo {

			@extend %flex-center-center;
			min-height	: $header-height;
			min-width	: $header-height;

		}

		& #portal-outlet-left {

			@extend %flex-start-center;

			&:empty {

				display: none;

			}

		}

		& #portal-outlet-right {

			grid-column: span 2;
			@extend %flex-end-center;

			&:not(:empty) {

				min-height	: $header-height;

			}

		}

		& #portal-outlet-left:empty + #portal-outlet-right {

			grid-column: 2;

		}

		@include md() {

			grid-template-columns: auto 1fr 1fr;

			& > #portal-outlet-right {

				grid-column: span 1;

			}

			& > #portal-outlet-left:empty + #portal-outlet-right {

				grid-column: span 2;

			}

		}

	}

	main {

		flex		: 1;
		position	: relative;
		display		: flex;
		height		: calc(100vh - #{$header-height});

		nav {

			@extend %flex-column;
			position			: absolute;
			z-index				: 10;
			width				: $nav-width;
			height				: 100%;
			background-color	: var(--surface-b);
			transition			: margin-left $animation-duration $animation-ease;
			padding				: $default-padding;

			& > div[bottom-buttons] {

				@extend %flex-row;
				margin-top		: auto;
				align-items		: center;
				width			: 100%;
				padding-top		: 0.5rem;
				padding-bottom	: 0.5rem;
				gap				: 0.3rem;

				& > app-theme-switcher {

					margin-left	: auto;

				}

			}

			& > div[bottom-version] {

				font-size		: xx-small;
				font-style		: italic;
				color			: var(--text-color-secondary);

			}

		}

		article {

			@extend %w359-scrollbar;
			flex		: 1;
			padding		: $default-padding;
			overflow-y	: auto;

		}

	}

	#nav-overlay {

		display				: block;
		position			: absolute;
		z-index				: 5;
		left				: 0;
		top					: 0;
		right				: 0;
		bottom				: 0;
		animation			: fadeIn $animation-duration $animation-ease;
		background-color	: var(--maskbg);

	}

	&.navCollapsed {

		#nav-overlay {

			display	: none;

		}

		nav {

			margin-left	: -$nav-width;

		}

	}

	&.bigScreen {

		nav {

			position	: relative;
			z-index		: initial;

		}

	}

	.navButtonBadge {

		position			: absolute;
		color				: var(--orange-600) !important;
		background-color	: var(--orange-600) !important;
		min-width			: 10px !important;
		height				: 10px !important;
		width				: 10px !important;
		line-height			: 0 !important;
		bottom				: 8px;
		right				: 10px;

		&.red {

			background-color: var(--red-600) !important;
			color			: var(--red-600) !important;

		}

	}

	.cloudButtonBadge {

		@extend %flex-center-center;
		position			: absolute;
		color				: var(--text-color) !important;
		background-color	: var(--orange-600) !important;
		min-width			: 20px !important;
		height				: 20px !important;
		width				: 20px !important;
		line-height			: 0 !important;
		bottom				: 0px;
		right				: 0px;
		
		&.red {
			
			background-color: var(--red-600) !important;
			
		}
		
	}
	
	.cloudButton {
		
		overflow			: visible !important;

		&.orange {

			background-color: var(--orange-600);

		}

		&.red {

			background-color: var(--red-600);

		}

	}

}