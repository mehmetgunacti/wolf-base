@import 'variables';
@import 'helper';
@import 'components';

:host {

	@include mx-d-block;
	@include mx-height($_100vh);
	@include mx-background($col-bg-page);
	@include mx-transition((background-color: $transition));

	& > header {

		@include mx-d-grid;
		@include mx-inset((top: $zero), (right: $zero), (left: $zero));
		@include mx-pos-fixed;
		@include mx-box-shadow;
		@include mx-p((left: $zero));
		@include mx-background($col-bg-header);
		@include mx-height($header-height);

		@include mx-z-index($z-index-header);
		@include mx-transition((background-color: $transition));

	}

	& > main {

		@include mx-z-index($z-index-main);
		height	: calc($_100dvh - fn-var($header-height));

		@include mx-inset((top: $header-height), (right: $zero), (left: $zero));

		@include mx-overflow-y-a;
		@include mx-webkit-scrollbar;
		@include mx-transition((height: $transition), (left: $transition), (background-color: $transition));

		@include bigScreen() {

			:host-context([data-sidebar=#{$sidebar-full}]) {

				@include mx-inset((left: $nav-full-width));

			}

			:host-context([data-sidebar=#{$sidebar-half}]) {

				@include mx-inset((left: $nav-half-width));

			}

		}

	}

	& > nav {

		@include mx-z-index($z-index-nav);

		@include mx-inset((top: $header-height), (left: $zero));
		@include mx-min-width($nav-full-width);
		height	: calc($_100dvh - fn-var($header-height));
		@include mx-overflow-h;
		@include mx-background($col-bg-nav);
		@include mx-transition((height: $transition), (width: $transition), (margin-left: $transition), (background-color: $transition));
		@include mx-box-shadow;

		:host-context([data-sidebar=#{$sidebar-full}]) {

			@include mx-margin((left: $zero));
			@include mx-width($nav-full-width);

		}

		:host-context([data-sidebar=#{$sidebar-half}]) {

			@include mx-margin((left: $zero));
			@include mx-width($nav-half-width);

		}

		:host-context([data-sidebar=#{$sidebar-hidden}]) {

			margin-left		: -fn-var($nav-full-width); // todo include nav shadow
			@include mx-width($nav-full-width);

			@include bigScreen {

				margin-left		: -fn-var($nav-half-width);
				@include mx-width($nav-half-width);

			}

		}

	}

}
