@import 'variables';
@import 'helper';
@import 'components';

:host {

	display				: block;
	@include mx-height($_100vh);
	@include mx-background($col-bg-page);
	@include mx-transition(background-color, $transition);

	& > header {

		@include mx-d-grid;
		@include mx-inset-0((bottom: $auto));
		@include mx-pos-fixed;
		@include mx-box-shadow;
		@include mx-p((left: $zero));
		@include mx-background($col-bg-header);
		@include mx-height($header-height);

		@include mx-z-index($z-index-header);
		@include mx-transition(background-color, $transition);

	}

	& > main {

		z-index				: var(--z-index-main);

		top					: var(--header-height);
		right				: 0;
		height				: calc(100dvh - var(--header-height));
		left				: 0;

		//@include mx-overflow-y-a;
		// @include mx-webkit-scrollbar;

		transition			: height var(--transition), left var(--transitionr), background-color var(--transition);

		@include bigScreen() {

			// :host-context() <---
			body.sidebar-full & {

				left		: var(--nav-full-width);

			}

			body.sidebar-half & {

				left		: var(--nav-half-width);

			}

		}

	}

	& > nav {

		z-index				: var(--z-index-nav);

		top					: var(--header-height);
		left				: 0;
		height				: calc(100dvh - var(--header-height));
		width				: var(--nav-full-width);

		overflow			: hidden;

		// background-color	: fn-hsl(col-bg-nav);
		transition			: height var(--transition), width var(--transition), margin-left var(--transition), background-color var(--transition);

		// @include mx-box-shadow;

		// :host-context() <---
		body.sidebar-full & {

			margin-left		: 0;
			width			: var(--nav-full-width);

		}

		body.sidebar-half & {

			margin-left		: 0;
			width			: var(--nav-half-width);

		}

		body.sidebar-hidden & {

			margin-left		: -var(--nav-full-width); // todo include nav shadow
			width			: var(--nav-full-width);

			@include bigScreen {

				margin-left		: -var(--nav-half-width);
				width			: var(--nav-half-width);

			}

		}

	}

}
