@import 'variables';
@import 'helper';
@import 'components';

@keyframes reset-left {

	to {
		left	: -$nav-half-width;
		width	: $nav-half-width;
	}

}

:host {

	@include mx-d-block;
	background-color	: fn-var($col-bg-page);
	height				: 100vh;
	@include mx-transition(background-color);

	& > header {

		@include mx-d-grid;
		top				: 0;
		right			: 0;
		left			: 0;
		position		: fixed;
		padding-left	: 0;
		height			: $header-height;
		z-index			: $z-index-header;

		background-color: fn-var($col-bg-header);
		@include mx-transition(background-color);
		@include mx-shadow($shadow-header);

	}

	& > main {

		@include mx-d-block;
		position		: fixed;
		padding			: $gap;
		z-index			: $z-index-main;
		height			: fn-var($main-current-height);

		top				: $header-height;
		right			: 0;
		left			: fn-var($main-current-left);

		@include mx-scrollable(unset);
		@include mx-transition(height left background-color);

	}

	& > nav {

		@include mx-d-flex-column;
		position	: fixed;

		padding		: 0;
		padding-top	: $header-height;
		margin		: 0;
		margin-left	: fn-var($nav-current-margin-left);

		z-index		: $z-index-nav;

		top			: 0;
		left		: 0;

		height		: fn-var($nav-current-height);
		width		: fn-var($nav-current-width);

		overflow	: hidden;

		background-color	: fn-var($col-bg-nav);
		@include mx-transition(height width margin-left background-color box-shadow);
		@include mx-shadow($shadow);

		body[data-sidebar="#{$sidebar-hidden}"] & {

			@include mx-shadow($shadow-invisible);
			animation: reset-left $transition-duration forwards;

		}

	}

}
