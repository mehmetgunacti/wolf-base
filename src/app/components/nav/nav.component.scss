@import 'variables';
@import 'components';
@import 'variables';
@import 'helper';

$_nav-menu-gap				: $gap;
$_nav-menu-row-height		: $nav-half-width - 2 * $_nav-menu-gap;
$_nav-menu-1st-col-width	: $nav-half-width - 2 * $_nav-menu-gap;

:host {

	@include mx-d-flex-column;
	container-type: inline-size;

	div[nav_menu] {

		@include mx-d-grid;
		grid-auto-rows	: $_nav-menu-row-height;
		gap				: $_nav-menu-gap;
		padding			: $_nav-menu-gap;

		& > a {

			--nav-label-underline-width	: 0;
			--nav-label-font-weight		: normal;

			@include mx-d-grid;
			grid-template-columns	: $_nav-menu-1st-col-width 1fr;

			border-radius			: $border-radius-lg;
			text-decoration			: none;
			overflow				: hidden;

			& > [nav_item_left] {

				@include mx-d-flex-center;

			}

			& > [nav_item_right] {

				@include mx-d-flex-ai-center;
				padding		: $_nav-menu-gap;

				& > [label] {

					font-weight		: var(--nav-label-font-weight);

					&::after {

						content: '';
						width		: 0px;
						height		: 2px;
						display		: block;
						background	: fn-var($col-accent);
						transition	: $transition-duration-short;
						width		: var(--nav-label-underline-width);

					}

				}

				body[data-sidebar="#{$sidebar-half}"] & {

					display	: none;

				}

			}

			&:hover {

				--nav-label-underline-width : 100%;

			}

			&:active {

				--nav-label-underline-width : 100%;
				background-color			: fn-color-lighten($col-white, 10%, 0.1);

			}

			&:focus-visible {

				--nav-label-underline-width : 100%;
				@include mx-outline;

			}

			&.active {

				--nav-label-font-weight	: bold;
				& :is(#{$glyph-selector}) {

					background-color	: fn-var($col-accent);
					border-radius		: $border-radius-round;
					padding				: $gap;

				}

			}

		}

	}

}



// & [nav_item_right] {

// 	display: none !important;

// }

// & [nav_item_right] {

// 	display: none !important;

// }

	// [data-sidebar="#{$sidebar-hidden}"] {


		// // set <nav>: half width on bigscreen (md)
		// @include mx-set-var($nav-current-width, $nav-full-width);
		// @include mx-set-var($nav-current-margin-left, -$nav-full-width); // 1rem = shadow

// 	}

// }


	// body.sidebar-hidden & {

	// 	visibility		: hidden;

	// }

	// body.sidebar-full & {

	// 	width			: var(--nav-full-width);

	// }

	// body.sidebar-half &,
	// body.sidebar-hidden & {

	// 	width			: var(--nav-half-width);

	// }

	// div[nav-menu] {

	// 	padding			: var(--gap);

	// 	& > a {

	// 		--_hover-color		: transparent;

	// 		@include mx-d-flex-center-y;
	// 		height				: var(--nav-half-width);
	// 		border-radius		: var(--border-radius);
	// 		color				: fn-hsl(text);
	// 		cursor				: pointer;
	// 		@include mx-transition(background-color);
	// 		text-decoration		: none;

	// 		width				: var(--nav-half-width);
	// 		overflow			: hidden;

	// 		padding				: 0;
	// 		margin				: 0;

	// 		body.sidebar-full & {

	// 			width			: auto;

	// 		}

	// 		&.active {

	// 			& > [icon] {

	// 				background-color	: fn-hsl(accent);
	// 				border-radius		: 25px;
	// 				color				: fn-hsl(text);

	// 			}

	// 		}

	// 		&:hover {

	// 			--_hover-color		: hsl(0 0 100% / 0.09);

	// 		}

	// 		& > [icon] {

	// 			@include mx-d-flex-center-center;
	// 			margin-right		: var(--gap-sm);
	// 			background-color	: var(--_hover-color);
	// 			border-radius		: 25px;
	// 			padding				: var(--gap);

	// 		}

	// 		& > [label] {

	// 			flex 		: 1;
	// 			font-size	: var(--font-size-h4);
	// 			padding-left: var(--gap);

	// 		}

	// 		& > [badge] {

	// 			@include mx-d-flex-center-center;
	// 			font-size			: var(--font-size-sm);
	// 			margin-right		: var(--gap);

	// 			& > span {

	// 				padding				: var(--gap) var(--gap);
	// 				border-radius		: var(--border-radius);
	// 				@include mx-transition(background-color);

	// 				&:not(:empty) {

	// 					background-color	: fn-hsl(bg-2, (lig: "- 3%"));

	// 				}

	// 			}

	// 		}

	// 	}

	// }

	// div[bottom-buttons] {

	// 	display			: flex;
	// 	align-items		: flex-start;
	// 	padding			: var(--gap);
	// 	margin-top		: auto;
	// 	gap				: 0.5rem;

	// 	& > button:last-child {

	// 		margin-left	: auto;

	// 	}

	// 	button.active {

	// 		background-color	: fn-hsl(accent);

	// 	}

	// 	body.sidebar-full & {

	// 		flex-direction	: row;
	// 		align-items		: flex-end;
	// 		height			: var(--nav-half-width);

	// 	}

	// 	body.sidebar-half &,
	// 	body.sidebar-hidden & {

	// 		flex-direction	: column-reverse;
	// 		width			: var(--nav-half-width);

	// 		& > button:last-child {

	// 			margin-left	: unset;

	// 		}

	// 	}

	// }

// }
