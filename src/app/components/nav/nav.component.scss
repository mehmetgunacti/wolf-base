@import 'variables';
@import 'components';
@import 'variables';
@import 'helper';

$_nav-menu-gap				: $gap;
$_nav-menu-row-height		: $nav-half-width;
$_nav-menu-1st-col-width	: $nav-half-width - 2 * $_nav-menu-gap;

:host {

	@include mx-d-flex-column;

	div[nav_menu] {

		@include mx-d-grid;
		grid-auto-rows	: $_nav-menu-row-height;
		padding-top		: $gap;

		& > a {

			--nav-label-underline-width	: 0;
			--nav-label-font-weight		: normal;

			position					: relative;
			@include mx-d-grid;
			grid-template-columns		: $_nav-menu-1st-col-width;

			border-radius				: $border-radius-round;
			text-decoration				: none;

			margin						: $_nav-menu-gap;
			outline-offset				: 1px;

			& > [nav_item_left] {

				@include mx-d-flex-center;

			}

			& > [nav_item_right] {

				position		: absolute; // <-- todo not needed anymore
				@include mx-d-flex-ai-center;

				padding			: 0px;
				padding-top		: 0.4rem;
				left			: $nav-row-height - $_nav-menu-gap;
				height			: $_nav-menu-1st-col-width;
				width			: $nav-full-width - $nav-half-width - $_nav-menu-gap;

				& > [label] {

					font-weight		: var(--nav-label-font-weight);

					&::after {

						content: '';
						width		: 0px;
						height		: 2px;
						display		: block;
						background	: fn-var($col-accent);
						transition	: $transition-duration-short;
						width		: var(--nav-label-underline-width);

					}

				}

			}

			&:not(.active) {

				&:hover {

					--nav-label-underline-width : 100%;
					background-color			: fn-var($col-btn-glyph-color-hover);

				}

				&:active {

					--nav-label-underline-width : 100%;
					background-color			: fn-var($col-btn-glyph-color-active);

				}

			}

			body.sidebar-full & {

				border-radius	: $border-radius-lg;
				outline-offset	: 3px;

			}

			&:focus-visible {

				--nav-label-underline-width : 100%;
				@include mx-outline;

			}

			&.active {

				--nav-label-font-weight		: bold;
				--nav-label-underline-width : 100%;
				& :is(#{$glyph-selector}) {

					background-color	: fn-var($col-accent);
					border-radius		: $border-radius-round;
					padding				: $gap-lg;

				}

			}

		}

	}

}
